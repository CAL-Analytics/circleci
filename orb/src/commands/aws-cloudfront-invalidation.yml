description: >
  This command creates a cloudfront invalidation for a distribution

parameters:
  distribution:
    type: string
    description: "CloudFront Distribution ID OR SSM Parameter to find it. SSM Parameter should begin with /"
  invalidate_items:
    type: string
    description: "Space separated list of Items to invalidate. You can use any pattern acceptable to CloudFront."

steps:
  - set-up-cicd-env
  - run:
      environment:
        DISTRIBUTION: <<parameters.distribution>>
        INVALIDATE_ITEMS: <<parameters.invalidate_items>>
      name: aws cloudfront invalidate
      command: aws_cloudfront_invalidation.py 
